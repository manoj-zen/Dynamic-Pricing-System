<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Pricing - Grocery Retail</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>üí∞ Dynamic Pricing System</h1>
                <p>AI-Driven Price Optimization for Online Retail</p>
            </div>
            <div class="header-status">
                <div id="status" class="status-badge">Connecting...</div>
            </div>
        </header>

        <!-- Navigation Tabs -->
        <nav class="tabs">
            <button class="tab-btn active" data-tab="dashboard">Dashboard</button>
            <button class="tab-btn" data-tab="products">Products</button>
            <button class="tab-btn" data-tab="pricing">Price Calculator</button>
            <button class="tab-btn" data-tab="analytics">Analytics</button>
            <button class="tab-btn" data-tab="settings">Settings</button>
        </nav>

        <!-- Dashboard Tab -->
        <section id="dashboard" class="tab-content active">
            <div class="dashboard-grid">
                <div class="stat-card">
                    <h3>Total Products</h3>
                    <p id="total-products" class="stat-number">-</p>
                    <span class="stat-label">In Database</span>
                </div>
                <div class="stat-card">
                    <h3>Model Status</h3>
                    <p id="model-status" class="stat-number">-</p>
                    <span class="stat-label">ML Model</span>
                </div>
                <div class="stat-card">
                    <h3>Avg Multiplier</h3>
                    <p id="avg-multiplier" class="stat-number">1.00x</p>
                    <span class="stat-label">Current Pricing</span>
                </div>
                <div class="stat-card">
                    <h3>API Status</h3>
                    <p id="api-status" class="stat-number">Active</p>
                    <span class="stat-label">Server Health</span>
                </div>
            </div>

            <div class="section">
                <h2>Quick Start</h2>
                <div class="button-group">
                    <button class="btn btn-primary" onclick="trainModel()">ü§ñ Train Model</button>
                    <button class="btn btn-secondary" onclick="loadAllProducts()">üì¶ Load Products</button>
                    <button class="btn btn-secondary" onclick="refreshDashboard()">üîÑ Refresh</button>
                </div>
            </div>

            <div class="section">
                <h2>How It Works</h2>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h4>üìä Demand Analysis</h4>
                        <p>Analyzes 7-day and 30-day sales trends to predict demand patterns</p>
                    </div>
                    <div class="feature-card">
                        <h4>üì¶ Inventory Management</h4>
                        <p>Adjusts prices based on current stock levels to optimize inventory turnover</p>
                    </div>
                    <div class="feature-card">
                        <h4>üìÖ Seasonality Factor</h4>
                        <p>Considers day of week and seasonal patterns for better pricing</p>
                    </div>
                    <div class="feature-card">
                        <h4>üéØ Revenue Optimization</h4>
                        <p>Balances profit margins with competitive pricing and demand</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Tab -->
        <section id="products" class="tab-content">
            <div class="section">
                <h2>Product Inventory</h2>
                <div class="controls">
                    <input type="text" id="product-search" placeholder="Search products...">
                    <select id="sort-by">
                        <option value="name">Sort by Name</option>
                        <option value="price">Sort by Price</option>
                        <option value="stock">Sort by Stock</option>
                        <option value="demand">Sort by Demand</option>
                    </select>
                </div>
                <div id="products-list" class="products-grid"></div>
                <div class="pagination">
                    <button class="btn btn-sm" onclick="previousPage()">‚Üê Previous</button>
                    <span id="page-info">Page 1</span>
                    <button class="btn btn-sm" onclick="nextPage()">Next ‚Üí</button>
                </div>
            </div>
        </section>

        <!-- Pricing Calculator Tab -->
        <section id="pricing" class="tab-content">
            <div class="section">
                <h2>Price Calculator</h2>
                <div class="calculator">
                    <div class="form-group">
                        <label for="calc-product-id">Product ID</label>
                        <input type="number" id="calc-product-id" placeholder="Enter product ID" min="1" max="200">
                    </div>
                    <div class="form-group">
                        <label for="calc-base-price">Base Price (‚Çπ)</label>
                        <input type="number" id="calc-base-price" placeholder="0.00" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="calc-stock">Current Stock</label>
                        <input type="number" id="calc-stock" placeholder="0" min="0">
                    </div>
                    <div class="form-group">
                        <label for="calc-sales-7">7-Day Sales</label>
                        <input type="number" id="calc-sales-7" placeholder="0" min="0">
                    </div>
                    <div class="form-group">
                        <label for="calc-sales-30">30-Day Sales</label>
                        <input type="number" id="calc-sales-30" placeholder="0" min="0">
                    </div>
                    <div class="form-group">
                        <label for="calc-day">Day of Week (0-6)</label>
                        <input type="number" id="calc-day" placeholder="0" min="0" max="6">
                    </div>
                    <button class="btn btn-primary" onclick="calculatePrice()">Calculate Dynamic Price</button>
                </div>
                <div id="pricing-result" class="result-box" style="display: none;">
                    <div class="result-content"></div>
                </div>
            </div>
        </section>

        <!-- Analytics Tab -->
        <section id="analytics" class="tab-content">
            <div class="analytics-grid">
                <div class="section">
                    <h3>Top 10 Demanding Products</h3>
                    <div id="top-demand" class="data-table"></div>
                </div>
                <div class="section">
                    <h3>High-Value Products</h3>
                    <div id="high-value" class="data-table"></div>
                </div>
                <div class="section">
                    <h3>Low Stock Alert</h3>
                    <div id="low-stock" class="data-table"></div>
                </div>
            </div>
        </section>

        <!-- Settings Tab -->
        <section id="settings" class="tab-content">
            <div class="section">
                <h2>Settings & Configuration</h2>
                <div class="settings-panel">
                    <h3>API Configuration</h3>
                    <div class="form-group">
                        <label for="api-url">API Base URL</label>
                        <input type="text" id="api-url" value="http://localhost:8000" placeholder="http://localhost:8000">
                    </div>
                    <button class="btn btn-secondary" onclick="saveApiUrl()">Save Configuration</button>
                </div>

                <div class="settings-panel">
                    <h3>Model Training</h3>
                    <p>Train the ML model with current data to improve pricing accuracy.</p>
                    <button class="btn btn-primary" onclick="trainModel()">Train Model</button>
                </div>

                <div class="settings-panel">
                    <h3>Data Management</h3>
                    <p>Export or refresh data from the database.</p>
                    <div class="button-group">
                        <button class="btn btn-secondary" onclick="exportData()">Export Products</button>
                        <button class="btn btn-secondary" onclick="loadAllProducts()">Refresh Data</button>
                    </div>
                </div>

                <div class="settings-panel">
                    <h3>Information</h3>
                    <div id="info-panel" class="info-box"></div>
                </div>
            </div>
        </section>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast"></div>

    <script src="script.js"></script>
</body>
</html>
